---
title: "Project 1 Proposal"
author: "Elated Anura"
output: github_document
---

```{r load-packages, message = FALSE, include = FALSE}
library(tidyverse) # data manipulation
library(psych) # describe function: statistical summary
library(broom) # tidy function: statistical outputs into tibbles
library(kableExtra) # make-up tables
library(stargazer) # nice regression outputs
library(here) # simplifies relative file paths
```

## Dataset

The dataset we’re analyzing is available on kaggle and  contains historical data on the modern Olympic game and includes all games starting from Athens 1896 till 2016. This data was scraped from [www.sports-reference.com](www.sports-reference.com) in 2018 and wrangled by rgriffin. Until 1992, winter and summer games used to be held in the same year. Since 1992, both summer and winter games have been taking place in a 4-year cycle (an olympiad!), resulting in winter games in 1994, summer in 1996, then again winter in 1998, and so on. The data set contains rich information on worldwide participation in Olympic Games across yeas. We chose it because we're interested in the Olympics, and we believe we can show political and historical trends influencing countries' performances and contributions to hosting the Games.

This data contains 271,116 observations and 15 variables. Each row contains data on an individual athlete participating in an individual Olympic event. There is data on 66 different sports, 1184 different teams, 51 games, 230 different NOCs, 42 different host cities across 35 different years. The variables are included in the codebook in the 'r readme' file in the data folder in this repository.

In our data set, 72.5 percent of the participants are male whereas the rest are female if we exclude missing values. The average age of the athletes is 25.6 years, with the oldest athlete being 97 years old, and the youngest being 10 years old. The average athlete height is 175.4cm, the maximum height is 226cm, and the minimum height is 127 cm. The average weight of an athlete is 70.7 kilograms, with the maximum being 214kg and the minimum being 25kg. 222,552 of the athletes participated in the summer games, while 222,552 participated in the winter season.

```{r load-data}
olympics_data <- read_csv(here("data", "olympics.csv"))
```

```{r variable-descriptio}
#create dummy variables to ease statistical analysis
olympics_data$sex_dummy <- ifelse(olympics_data$sex=="M", 1,0)
vars_of_interest <- c("sex_dummy", "age", "height", "weight")
olympics_data %>%
  select(vars_of_interest) %>%
  lapply(., function(i) summary(i, na.rm =TRUE)) %>% 
  do.call(rbind, .) %>%
  kable(digits = 3)
olympics_data %>%
  group_by(team) %>%
   summarise(count=n())
olympics_data %>%
  group_by(sport) %>%
   summarise(count=n())
olympics_data %>%
  group_by(city) %>%
   summarise(count=n())
# this gives the number of participants who participated in the games held in these cities
olympics_data %>%
  group_by(season) %>%
   summarise(count=n())
length(unique(olympics_data$sport))
length(unique(olympics_data$team))
length(unique(olympics_data$games))
length(unique(olympics_data$year))
length(unique(olympics_data$noc))
length(unique(olympics_data$city))
```

## Questions

We're planning on creating graphs that will allows us to answer the following two questions:

1. How has the dominance of the Soviet Union/Russia and the United States changed throughout the cold war and after? Has the share of medals won by either NATO or Warsaw Pact countries decreased since the end of the cold war?

2. How did countries perform in the Olympics Games when they were hosting v.s. not hosting the game? Is there any relationship between hosing the Game and the overall performance - measured by the number of medals? To even further expand this question, what are the costs compared to benefits in monetary values of hosting an Olympic Games?

## Analysis plan

The following lays out our plan for answering each of the research questions.

1. In a first step, we will construct a time-series plot comparing the number of medals won by the United States and the USSR/Russia and all other countries. We plot the variable ‘year’ on the x-axis and a newly created variable counting the number of gold medals per country on the y axis. Finally, different colors (or facets, to be determined) will indicate whether medals were won in the Summer Olympics or the Winter Olympics, as well as display cumulative medal wins. In a second step, we expand the same analysis to not only include the United States and the USSR/Russia, but to include member-states of both NATO and the Warsaw Pact.

2. In a first step, we will summarize the data set into a table showing the average number of medals won by each country every year. We will incorporate an external data set with information on hosting countries. We will also need to create one categorized or dummy variable for whether or not to host the Game. We will create a summarized data set and data visualizations to show whether countries would perform better (or worse) when they were hosting a Game compared to when they were not. The summarized data set will contain a new variable representing the average number of medals for each country divided by the hosting status. So the x-axis may represent the new dummy variable, and the y-axis may represent the average number of medals. The third variable can be illustrated by different shapes or colors, combined with the legend to show the hosting status.

We can potentially further discuss the monetary costs-and-benefit comparison of hosting an Olympic Games with external data sets containing the needed information. We can either compare the trends throughout the years (adjusted by inflation). The x-axis will then be the year variable, and the y-axis will be monetary values for either the cost or the revenue variable. It can even incorporate the season variable to show different trends for the summer and winter Olympics.